<?xml version="1.0"?>
<!-- $Id$ -->
<project name="borg-conduits" default="main" basedir="..">
   <!-- Properties -->

   <property name="pkg" value="net/sf/borg" />

   <property name="build.dir" value="${basedir}/build" />
   <property name="dist.dir" value="${basedir}/dist" />
   <property name="borg.jar" value="C:/Documents and Settings/Owner/My Documents/borg/borg_src3/BORGCalendarCommon/dist/borg.jar"/>	
   <property name="jsync.jar" value="C:/CDK403/Java/Bin/jsync/rt/jsync.jar"/>
   <property name="build.compiler" value="modern" />

   <!-- Path References -->
   <path id="build.classpath">
      <pathelement location="${borg.jar}"/>
   	  <pathelement location="${jsync.jar}"/>
 
   </path>



   <!-- Compile -->
   <target name="compile">
      <mkdir dir="${build.dir}" />

      <javac srcdir="${basedir}"
             destdir="${build.dir}"
      	     classpathref="build.classpath"
             debug="on">
      </javac>

 
   </target>

   <target name="addr-jar" depends="compile">
      <mkdir dir="${dist.dir}" />

      <manifest file="${build.dir}/${pkg}/MANIFEST.MF">
         <attribute name="Built-By" value="${user.name}"/>
      </manifest>

      <jar jarfile="${dist.dir}/addrconduit.jar" manifest="${build.dir}/${pkg}/MANIFEST.MF">
         <fileset dir="${build.dir}">
            <include name="**/addrconduit/*.class"/>
         </fileset>

      </jar>
   </target>
	
	   <target name="appt-jar" depends="compile">
	      <mkdir dir="${dist.dir}" />

	      <manifest file="${build.dir}/${pkg}/MANIFEST.MF">
	         <attribute name="Built-By" value="${user.name}"/>
	      </manifest>

	      <jar jarfile="${dist.dir}/apptconduit.jar" manifest="${build.dir}/${pkg}/MANIFEST.MF">
	         <fileset dir="${build.dir}">
	            <include name="**/apptconduit/*.class"/>
	         </fileset>

	      </jar>
	   </target>
	
	   <target name="todo-jar" depends="compile">
	      <mkdir dir="${dist.dir}" />

	      <manifest file="${build.dir}/${pkg}/MANIFEST.MF">
	         <attribute name="Built-By" value="${user.name}"/>
	      </manifest>

	      <jar jarfile="${dist.dir}/todoconduit.jar" manifest="${build.dir}/${pkg}/MANIFEST.MF">
	         <fileset dir="${build.dir}">
	            <include name="**/todoconduit/*.class"/>
	         </fileset>

	      </jar>
	   </target>
	

   <!-- Clean everything -->
   <target name="clean" >
      <delete quiet="true" dir="${build.dir}" /> 
      <delete quiet="true" dir="${dist.dir}" />
   </target>
 
                

   <target name="main" depends="clean,addr-jar,appt-jar,todo-jar" />
 
   
 
</project>
